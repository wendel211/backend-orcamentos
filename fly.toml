# fly.toml — configuração de deploy no Fly.io
# Substitua "orcamentos-api" pelo nome que você escolher no deploy

app = "orcamentos-api"
primary_region = "gru"  # São Paulo — mais próximo do Brasil

[build]
  dockerfile = "Dockerfile"

[http_service]
  internal_port = 3000
  force_https = true
  auto_stop_machines = false   # Não deixa o server dormir
  auto_start_machines = true
  min_machines_running = 1     # Sempre 1 instância ativa

[env]
  PORT = "3000"
  # DATABASE_URL é definida via: fly secrets set DATABASE_URL=...
  # Não coloque credenciais aqui!
